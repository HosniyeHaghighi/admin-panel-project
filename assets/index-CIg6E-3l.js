(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("icons-wrapper"),d=document.getElementById("search-icon-button"),c=document.getElementById("search-input"),o=document.getElementById("search-results"),e=document.getElementById("filter-error-message"),r={new:document.getElementById("filter-new"),onProgress:document.getElementById("filter-on-progress"),readyToServe:document.getElementById("filter-ready"),cancelled:document.getElementById("filter-cancelled")};if(!l||!d||!c||!o||!e){console.error("Core elements not found!");return}let i={new:!1,onProgress:!1,readyToServe:!1,cancelled:!1},f=[],u=!1;h();async function h(){try{const t=await fetch("https://jsonplaceholder.typicode.com/users");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const s=await t.json(),n=["new","onProgress","readyToServe","cancelled"];f=s.slice(0,10).map((a,L)=>({...a,status:n[L%4]})),console.log("User data loaded.")}catch(t){console.error("Error fetching data:",t)}}const p=()=>{if(!Object.values(i).some(s=>s)){e.classList.remove("hidden");return}e.classList.add("hidden"),u=!0,c.classList.remove("hidden"),l.classList.add("hidden"),c.focus()},g=()=>{u=!1,c.classList.add("hidden"),l.classList.remove("hidden"),o.classList.add("hidden"),c.value=""},y=t=>{o.innerHTML="",t.length===0?o.innerHTML='<p class="text-center py-4 text-gray-500">Result not found</p>':t.slice(0,6).forEach(n=>{const a=document.createElement("a");a.href="#",a.className="block p-3 hover:bg-page transition-colors",a.innerHTML=`
                    <p class="text-sm font-semibold text-gray-800">${n.name}</p>
                    <p class="text-xs text-gray-600">${n.email}</p>
                `,o.appendChild(a)}),o.classList.remove("hidden")},m=()=>{const t=c.value.trim().toLowerCase();if(t===""){o.classList.add("hidden");return}let s=f.filter(n=>i[n.status]);s=s.filter(n=>n.name.toLowerCase().includes(t)||n.email.toLowerCase().includes(t)),y(s)};d.addEventListener("click",t=>{t.stopPropagation(),p()}),c.addEventListener("input",m),Object.entries(r).forEach(([t,s])=>{s&&s.addEventListener("change",()=>{i[t]=s.checked,Object.values(i).some(a=>a)&&e.classList.add("hidden"),u&&m()})}),document.addEventListener("click",t=>{const s=document.querySelector(".flex.items-center.gap-4"),n=document.getElementById("filters-sidebar");u&&s&&!s.contains(t.target)&&n&&!n.contains(t.target)&&g()})});
